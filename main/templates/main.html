{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card">
                <div class="card-body">
                    <h1 class="card-title text-center">Welcome to ZaMart!</h1>
                    <h6 class="card-subtitle text-center">{{ name }}!</h6>
                    
                    <table class="table mt-4">
                        <thead>
                            <tr>
                                <th class="table-primary text-center" scope="col">Name</th>
                                <th class="table-primary text-center" scope="col">Category</th>
                                <th class="table-primary text-center" scope="col">Description</th>
                                <th class="table-primary text-center" scope="col">Amount</th>
                                <th class="table-primary text-center" scope="col">Adjustment</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for product in products %}
                            <tr class="{% if forloop.last %}last-row{% endif %}">
                                <td class="table-info">{{ product.name }}</td>
                                <td class="table-info">{{ product.category }}</td>
                                <td class="table-info">{{ product.description }}</td>
                                <td class="table-info">{{ product.amount }}</td>
                                <td class="table-info">
                                    <a href="{% url 'main:add_item' product.id %}">
                                        <button type="button" class="btn btn-info mr-2">+</button>
                                    </a>
                                    <a href="{% url 'main:reduce_item' product.id %}">
                                        <button type="button" class="btn btn-info mr-2">-</button>
                                    </a>
                                    <a href="{% url 'main:delete_item' product.id %}">
                                        <button type="button" class="btn btn-danger">Delete</button>
                                    </a>
                                    <a href="{% url 'main:edit_product' product.id %}">
                                        <button type="button" class="btn btn-success">Edit</button>
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    <h6 class="item-count text-center">Kamu menyimpan {{item_count}} item pada aplikasi ini</h6>
                    <h6 class="text-center mt-3">Sesi terakhir login: {{ last_login }}</h6>

                    <div class="text-center mt-3">
                        <a href="{% url 'main:create_product' %}" class="btn btn-primary">Add New Product</a>
                        <a href="{% url 'main:logout' %}" class="btn btn-danger ml-2">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    table {
        font-family: "Rubik", sans-serif;
    }
    body{
        background-color: #F8F0E5 !important;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 80vh;
    }
    .last-row {
        background-color: #FACBEA !important; 
        color: #FACBEA !important; 
    }
</style>

{% endblock content %}